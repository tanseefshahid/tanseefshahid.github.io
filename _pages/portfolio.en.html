---
layout: archive
title: "Portfolio"
permalink: /en/portfolio/
lang: en
author_profile: true
---

{% include base_path %}

{% assign current_lang = page.lang | default: site.lang | default: "en" %}

<div id="portfolio-list" class="archive__list">
  {% for post in site.portfolio %}
    {% if post.lang == current_lang %}
      <div class="portfolio-item">{% include archive-single.html %}</div>
    {% endif %}
  {% endfor %}
</div>

<!-- simple client-side pagination -->
<nav id="portfolio-pagination" class="pagination" aria-label="Portfolio pagination"></nav>

<script>
  (function(){
    var perPage = 6;
    var items = Array.prototype.slice.call(document.querySelectorAll('#portfolio-list .portfolio-item'));
    var pages = Math.ceil(items.length / perPage) || 1;
    var pager = document.getElementById('portfolio-pagination');

    function showPage(n){
      var start = (n-1)*perPage;
      var end = start + perPage;
      items.forEach(function(it, idx){
        it.style.display = (idx>=start && idx<end) ? '' : 'none';
      });
      renderPager(n);
    }

    function renderPager(active){
      if(pages<=1){ pager.style.display='none'; return; }
      var html='';
      for(var i=1;i<=pages;i++){
        var cls = (i===active)? 'current' : '';
        html += '<li><a href="javascript:void(0)" class="'+cls+'" data-page="'+i+'">'+i+'</a></li>';
      }
      pager.innerHTML = '<ul>'+html+'</ul>';
      Array.prototype.slice.call(pager.querySelectorAll('a')).forEach(function(a){
        a.addEventListener('click', function(e){ showPage(parseInt(a.getAttribute('data-page'))); });
      });
    }

    // init
    showPage(1);
  })();
</script>
